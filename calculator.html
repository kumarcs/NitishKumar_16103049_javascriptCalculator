<!DOCTYPE html>
<html>
	<head>
		<title>Calculator</title>
		<link rel="stylesheet" href="styles.css">
		<script type="text/javascript">
		var flag="0";
		var prev="0";
		container.tempdisplay.value="0";
		function show(text)
		{
			var condition=1;
			
			if(flag==condition)
			{container.display.value = "";
			flag=0;}
			if(prev==container.tempdisplay.value)
				{ container.tempdisplay.value="input valid expression"}
			container.display.value += text;
			var evalo=eval(container.display.value);
			
			if(evalo == "Infinity")
				{container.tempdisplay.value = "divided by zero";
				flag=1;}
			else
				{container.tempdisplay.value = eval(container.display.value)}
			prev=container.tempdisplay.value;
		}
		function showfromkb(text)
		{
			var condition=1;
			
			if(flag==condition)
			{container.display.value = "";
			flag=0;}
			if(prev==container.tempdisplay.value)
				{ container.tempdisplay.value="input valid expression"}
			var evalo=eval(container.display.value);
			
			if(evalo == "Infinity")
				{container.tempdisplay.value = "divided by zero";
				flag=1;}
			else
				{container.tempdisplay.value = eval(container.display.value)}
			prev=container.tempdisplay.value;
		}
		function resultfromkb()
		{
			var evalo=eval(container.display.value);
			var check=evalo;
			if(evalo == "Infinity")
			{container.display.value = "divided by zero";
			container.tempdisplay.value = "divided by zero";}
			else
			{container.tempdisplay.value = eval(container.display.value)}
		}
		function showop(text)
		{
			flag=0;
			if(prev==container.tempdisplay.value)
				{ container.tempdisplay.value="input valid expression"}
			container.display.value += text;
			var evalo=eval(container.display.value);
			
			if(evalo == "Infinity")
				{container.tempdisplay.value = "divided by zero";
				flag=1;}
			else
				{container.tempdisplay.value = eval(container.display.value)}
			prev=container.tempdisplay.value;
		}
		function del()
		{
			container.display.value = " ";
			container.tempdisplay.value = "total";
		}
		function backspace()
		{
			var len = container.display.value.length;
			var condition=1;
			
			container.display.value = container.display.value.slice(0, len-1);
			if(len>condition)
			{container.tempdisplay.value = eval(container.display.value);}
			else
			{container.tempdisplay.value="total";}
		}
		
		function result()
		{
			flag=1;
			
			var evalo=eval(container.display.value);
			var check=evalo;
			if(evalo == "Infinity")
			{container.display.value = "divided by zero";
			container.tempdisplay.value = "divided by zero";
			flag=1;}
			else
			{container.tempdisplay.value = eval(container.display.value)}
		}
		
		function search(ele) {
		if(event.key === 'Enter') {
			var text=container.display.value;
			showfromkb(text);
			resultfromkb()
			container.display.value="";}
		}
		function _initialise()
		{
		prev="0";
		container.tempdisplay.value="0";
		}
		function ans_show()
		{
		container.display.value=container.tempdisplay.value;
		}
		</script>
</head>
<body style="background-color:skyblue;" onload="_initialise()">
	<center>
	<h1 style="font-color: white;">Calculator<h1>
	<hr>
	<div id="calcucator">
		<!--<input name="display">number here!!</div>-->
		<form name="container">
			<input type="text" id="input" name="display" onkeydown="search(this)"/>
			
			<button type="button" id="demo" onclick="backspace()"> del </button>
			<br>
		    <input type="text" name="tempdisplay" id="tempinput" placeholder="total">
			<br><br>
			
			<button type="button" id="demo_del" style="background-color: #f44336;" onclick="del()"> Esc </button>
			<button type="button" id="demo_del" onclick="ans_show()">  Ans </button>
			<br><br>
				<button type="button" id="demo" onclick="show('1') "> 1 </button>
				<button type="button" id="demo" onclick="show('2')">  2 </button>
				<button type="button" id="demo" onclick="show('3')">  3 </button>
				<button type="button" id="demo" class="operation" onclick="showop('-')">  - </button>
	
			<br><br>
				<button type="button" id="demo" onclick="show('4')">  4 </button>
				<button type="button" id="demo" onclick="show('5')">  5 </button>
				<button type="button" id="demo" onclick="show('6')">  6 </button>
				<button type="button" id="demo" class="operation" onclick="showop('*')">  * </button>
			<br><br>
				<button type="button" id="demo" onclick="show('7')">  7 </button>
				<button type="button" id="demo" onclick="show('8')">  8 </button>
				<button type="button" id="demo" onclick="show('9')">  9 </button>
				<button type="button" id="demo" class="operation" onclick="showop('/')">  / </button>
			<br><br>
				<button type="button" id="demo" style="background-color: #4CAF50;" onclick="result()"> = </button>
				<button type="button" id="demo" onclick="show('0')">  0 </button>
				<button type="button" id="demo" onclick="show('.')">  . </button>
				<button type="button" id="demo" class="operation" onclick="showop('+')">  + </button>
			<br><br>
			
			<h5>NITISH</h5>
		</form>
	</div>
	<hr>
	&copy2017 nitish_kumar Btech NIT Jalandhar
	</center>
</body>	
